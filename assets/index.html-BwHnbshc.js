import{_ as i,c as e,a,o as n}from"./app-vo1rYq2c.js";const t={};function l(h,s){return n(),e("div",null,s[0]||(s[0]=[a(`<h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> openssh-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="config-文件" tabindex="-1"><a class="header-anchor" href="#config-文件"><span>config 文件</span></a></h2><p><code>~/.ssh/config</code> 配置文件可以简化你日常的 SSH 连接，避免在每次连接时都需要手动指定这些参数。 例如当<code>config</code>文件如下时：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 为特定主机设置别名和其他参数</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> myserver</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    HostName</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.1.100</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 服务器的 IP 或域名</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    User</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> myusername</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">         # 登录时使用的用户名</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Port</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2222</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">               # SSH 端口号</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    IdentityFile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.ssh/myserver_key</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 使用特定的私钥文件</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>连接到192.168.1.100 可用简化为</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> myserver</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>此外。像vscode等软件会读取<code>config</code></p><p><img src="https://emnavi-doc-img.oss-cn-beijing.aliyuncs.com/hyaline_kb/Linux/SSH/image_20241020140412.png" alt=""></p><h2 id="ssh-的代理转发" tabindex="-1"><a class="header-anchor" href="#ssh-的代理转发"><span>ssh 的代理转发</span></a></h2><p>服务器往往需要多人使用，在服务器上部署自己的代理服务似乎不太合适，当我们使用ssh时，可以尝试使用<mark>ssh转发本地主机上的代理服务端口到服务器</mark>上来取巧。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>代理通道占用ssh的带宽，假如ssh通过内网穿透实现的，那么效果受限于转发服务器的带宽，主流的国内服务器带宽一般低于5Mbps，效果可能不佳。</p><p>这里的转发服务器带宽为100Mbps。</p></div><h3 id="准备" tabindex="-1"><a class="header-anchor" href="#准备"><span>准备</span></a></h3><p>首先需要让ssh 服务器允许传入指定参数，编辑服务器上的 <code>/etc/ssh/sshd_config</code>，将 <code>AcceptEnv</code>修改为</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>AcceptEnv LANG LC_* https_proxy http_proxy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>完成之后请重启ssh服务,<code>systemctl restart sshd</code></p><h3 id="本机设置" tabindex="-1"><a class="header-anchor" href="#本机设置"><span>本机设置</span></a></h3><p>对于VScode可以使用 <code>RemoteForward</code>和 <code>SetEnv</code></p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> XXXXX</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    HostName</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> xxx.xxx.xxx.xxx</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    User</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    IdentityFile</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">C:\\Users\\xxx\\.ssh\\id_rsa</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line highlighted"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    RemoteForward</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9001</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> localhost:7890</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 将本地clash端口(7890)转发至服务器9001端口</span></span>
<span class="line highlighted"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    SetEnv</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http_proxy=http://localhost:9001</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https_proxy=http://localhost:9001</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19)]))}const d=i(t,[["render",l],["__file","index.html.vue"]]),r=JSON.parse('{"path":"/article/eaqdpyh5/","title":"ssh","lang":"zh-CN","frontmatter":{"title":"ssh","createTime":"2024/10/19 16:28:19","permalink":"/article/eaqdpyh5/","description":"安装 config 文件 ~/.ssh/config 配置文件可以简化你日常的 SSH 连接，避免在每次连接时都需要手动指定这些参数。 例如当config文件如下时： 连接到192.168.1.100 可用简化为 此外。像vscode等软件会读取config ssh 的代理转发 服务器往往需要多人使用，在服务器上部署自己的代理服务似乎不太合适，当我们使...","head":[["meta",{"property":"og:url","content":"https://hyaline.qyswarm.top/article/eaqdpyh5/"}],["meta",{"property":"og:site_name","content":"Reflections of Hyaline"}],["meta",{"property":"og:title","content":"ssh"}],["meta",{"property":"og:description","content":"安装 config 文件 ~/.ssh/config 配置文件可以简化你日常的 SSH 连接，避免在每次连接时都需要手动指定这些参数。 例如当config文件如下时： 连接到192.168.1.100 可用简化为 此外。像vscode等软件会读取config ssh 的代理转发 服务器往往需要多人使用，在服务器上部署自己的代理服务似乎不太合适，当我们使..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://emnavi-doc-img.oss-cn-beijing.aliyuncs.com/hyaline_kb/Linux/SSH/image_20241020140412.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-20T14:14:17.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-20T14:14:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ssh\\",\\"image\\":[\\"https://emnavi-doc-img.oss-cn-beijing.aliyuncs.com/hyaline_kb/Linux/SSH/image_20241020140412.png\\"],\\"dateModified\\":\\"2024-10-20T14:14:17.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"config 文件","slug":"config-文件","link":"#config-文件","children":[]},{"level":2,"title":"ssh 的代理转发","slug":"ssh-的代理转发","link":"#ssh-的代理转发","children":[{"level":3,"title":"准备","slug":"准备","link":"#准备","children":[]},{"level":3,"title":"本机设置","slug":"本机设置","link":"#本机设置","children":[]}]}],"readingTime":{"minutes":1.33,"words":400},"git":{"createdTime":1729328573000,"updatedTime":1729433657000,"contributors":[{"name":"hyaline-wang","email":"hyaline-wang","commits":3}]},"autoDesc":true,"filePathRelative":"Linux/ssh.md","categoryList":[{"id":"edc9f0","sort":10002,"name":"Linux"}]}');export{d as comp,r as data};
