import{_ as n,c as l,a as e,b as s,d as t,o as d,r as p}from"./app-vo1rYq2c.js";const h={},r={class:"vp-steps"};function c(o,i){const a=p("LinkCard");return d(),l("div",null,[i[4]||(i[4]=e('<h2 id="x152b-pc-生产初始化" tabindex="-1"><a class="header-anchor" href="#x152b-pc-生产初始化"><span>X152b PC 生产初始化</span></a></h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>大致步骤为</p><ul><li>烧录固件</li><li>进入PC，手动进行初始化设置</li></ul></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><ul><li>供电：以下过程的供电，都以PD充电器供电为例，功率大于30w，华为的不能用</li><li>权限: 以下操作大部分需要root权限。</li></ul></div>',3)),s("div",r,[s("ol",null,[s("li",null,[i[0]||(i[0]=s("p",null,"下载镜像",-1)),t(a,{title:"镜像下载",href:"https://pan.baidu.com/s/1gCpzRgslIaQBB8V8f3iHUQ?pwd=5ugn",description:"百度云密码: 5ugn"}),i[1]||(i[1]=s("ol",null,[s("li",null,"准备u盘，确保格式为exfat，若不是请格式化成exfat"),s("li",null,"下载镜像，并放到U盘中")],-1))]),s("li",null,[i[2]||(i[2]=s("p",null,"烧录固件。（Write）",-1)),t(a,{title:"USB 有线刷固件",href:"/article/1zbyaj5c/#dump-%E4%B8%8E-write",description:"请看Write"})]),i[3]||(i[3]=e(`<li><p>使用pd充电器向供电口供电</p></li><li><p>连接usb至edge2 的OTG口 （现在X152b会自动获取ip，无需手动设置）</p></li><li><p>重置主机名 当第一次启动飞机后</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/init_emnavi_device/01_rename_hostname.py</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --drone_type</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> X152b</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --px4_sys_id</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>重新打开窗口后生效</p></div></li><li><p>下载nomachine并安装</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -O</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://110.42.45.189:18080/Nomachine/nomachine_8.6.1_3_arm64.deb</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dpkg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nomachine_8.6.1_3_arm64.deb</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 安装大约耗时1.5分钟，耐心等待</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">rm</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nomachine_8.6.1_3_arm64.deb</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set-default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>清除所有wifi连接</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/init_emnavi_device/04_clean_wifi_connect.py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>设置wifi为wifi热点模式（5G AP模式）</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/init_emnavi_device/05_reset_ap_mode.py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>现在就可以通过<code>emNavi-XXXXXXXX_5G</code> 连接到机载PC了</p></div></li><li><p>清除缓存</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/init_emnavi_device/06_clean_cache.py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>sync</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sync</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>pc断电，结束</p></li>`,9))])]),i[5]||(i[5]=e(`<h2 id="连接至飞行器机载电脑" tabindex="-1"><a class="header-anchor" href="#连接至飞行器机载电脑"><span>连接至飞行器机载电脑</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>默认账户密码为</p><table><thead><tr><th>Account</th><th>Password</th></tr></thead><tbody><tr><td>emnavi</td><td>123456</td></tr></tbody></table></div><p>有四种方法可以连接到飞行器pc</p><ul><li>USB 虚拟网卡连接</li><li>连接至 X152b的热点（AP）</li><li>将X152b连接至路由器 (STA)</li><li>Hdmi + 键鼠</li></ul><p>热点 和 STA 模式不兼容，切换推荐通过 USB有线</p><h3 id="usb-连接" tabindex="-1"><a class="header-anchor" href="#usb-连接"><span>USB 连接</span></a></h3><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>USB OTG模式会在连接过其他设备后自动退出</p></div><p>通过usb连接到主机(连接后主机会自动获取ip)，飞行器ip地址为 <code>192.168.108.1</code>,你可以通过ssh连接至设备</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> emnavi@192.168.108.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>除了ssh登录外，你还可以使用Nomachine登录</p><h3 id="ap模式" tabindex="-1"><a class="header-anchor" href="#ap模式"><span>AP模式</span></a></h3><p>X152b设备被设计为出厂设置为AP模式，你可以通过连接至 <code>emNavi-XXXXXXXXX-5G</code>访问设备，飞行器ip为 <strong>192.168.109.1</strong></p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> emnavi@192.168.109.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>除了ssh登录外，你还可以使用Nomachine登录</p><h3 id="sta-模式" tabindex="-1"><a class="header-anchor" href="#sta-模式"><span>STA 模式</span></a></h3><p>在<strong>除AP模式之外</strong>的其他连接模式中通过以下方式连接至其他wifi</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /opt/init_emnavi_device/04_clean_wifi_connect.py</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 清除所有wifi连接，包括关闭ap模式</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nmcli</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> device</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> wifi</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> list</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 列出所有的搜索到的wifi</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nmcli</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> device</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> wifi</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> connect</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">wifi_nam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  password</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">wifi_passwor</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">d</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>&lt;wifi_name&gt; ： wifi名</li><li>&lt;wifi_password&gt;: wifi密码</li></ul><p>除了ssh登录外，你还可以使用Nomachine登录</p><h3 id="hdmi-键鼠" tabindex="-1"><a class="header-anchor" href="#hdmi-键鼠"><span>Hdmi + 键鼠</span></a></h3><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>出厂状态下，连接HDMI并不会直接进入到图形化界面，这是这是为了Nomachine能够正常工作。为了图形化界面正常工作，你可以进行如下操作。</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 在连接了键鼠之后，使用emnavi账户登录，密码123456</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set-default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> graphical.target</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reboot</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> #重启设备</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重启完成后应该正常显示图形化界面</p></div>`,21))])}const u=n(h,[["render",c],["__file","index.html.vue"]]),v=JSON.parse('{"path":"/article/27023b50/","title":"X152b PC 生产初始化","lang":"zh-CN","frontmatter":{"title":"X152b PC 生产初始化","createTime":"2024/10/22 20:34:59","permalink":"/article/27023b50/","description":"X152b PC 生产初始化 注意 大致步骤为 烧录固件 进入PC，手动进行初始化设置 相关信息 供电：以下过程的供电，都以PD充电器供电为例，功率大于30w，华为的不能用 权限: 以下操作大部分需要root权限。 下载镜像 烧录固件。（Write） 使用pd充电器向供电口供电 连接usb至edge2 的OTG口 （现在X152b会自动获取ip，无需手...","head":[["meta",{"property":"og:url","content":"https://hyaline.qyswarm.top/article/27023b50/"}],["meta",{"property":"og:site_name","content":"Reflections of Hyaline"}],["meta",{"property":"og:title","content":"X152b PC 生产初始化"}],["meta",{"property":"og:description","content":"X152b PC 生产初始化 注意 大致步骤为 烧录固件 进入PC，手动进行初始化设置 相关信息 供电：以下过程的供电，都以PD充电器供电为例，功率大于30w，华为的不能用 权限: 以下操作大部分需要root权限。 下载镜像 烧录固件。（Write） 使用pd充电器向供电口供电 连接usb至edge2 的OTG口 （现在X152b会自动获取ip，无需手..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-24T05:41:13.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-24T05:41:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"X152b PC 生产初始化\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-24T05:41:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"X152b PC 生产初始化","slug":"x152b-pc-生产初始化","link":"#x152b-pc-生产初始化","children":[]},{"level":2,"title":"连接至飞行器机载电脑","slug":"连接至飞行器机载电脑","link":"#连接至飞行器机载电脑","children":[{"level":3,"title":"USB 连接","slug":"usb-连接","link":"#usb-连接","children":[]},{"level":3,"title":"AP模式","slug":"ap模式","link":"#ap模式","children":[]},{"level":3,"title":"STA 模式","slug":"sta-模式","link":"#sta-模式","children":[]},{"level":3,"title":"Hdmi + 键鼠","slug":"hdmi-键鼠","link":"#hdmi-键鼠","children":[]}]}],"readingTime":{"minutes":2.53,"words":758},"git":{"createdTime":1729613108000,"updatedTime":1729748473000,"contributors":[{"name":"hyaline-wang","email":"hyaline-wang","commits":4}]},"autoDesc":true,"filePathRelative":"Linux/X152b_for_product.md","categoryList":[{"id":"edc9f0","sort":10002,"name":"Linux"}]}');export{u as comp,v as data};
